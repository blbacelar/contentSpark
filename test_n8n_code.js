const aiText = `[{\n  "title": "Monetize Your Soccer Savvy: Turning Passion into Profit",\n  "description": "Explore practical ways women soccer fans can monetize their game knowledge effectively.",\n  "hook": "'Want to score goals with your soccer smarts – and your wallet?'",\n  "caption": "If you're a woman who lives and breathes soccer, it’s time to turn that passion into profit. From hosting live match analyses to creating niche content or even launching your own fan merchandise, there’s a whole field to explore. We’ll break down easy-to-start ideas that fit into your busy schedule but can bring in lasting revenue. Ready to hit your financial goal like a pro striker hits the net? Let’s get your monetization game on point!",\n  "cta": "Start your soccer money-making journey today!",\n  "hashtags": "#WomenInSoccer #MonetizeYourPassion #SoccerFans #GirlPower #SoccerLife #SideHustle #WomenWhoHustle #SoccerKnowledge #MakeMoneyOnline #ModernBrandVibes",\n  "canva_prompt": "A sleek, modern graphic featuring a confident woman analyzing soccer stats on a laptop, blending Brand Colors #eb4034, #EB3033, #000000, #ecd751, with clean lines and dynamic shapes.",\n  "platform_suggestion": "Instagram",\n  "user_id": "99c676fd-3c66-4b26-a9e3-a0c41c271ca4",\n  "team_id": "a6863edc-5020-4763-ba00-58e2ce1ddf8f"\n},\n{\n  "title": "How to Make Money Online with Your Soccer Knowledge",\n  "description": "Answering the big question of how female soccer fans can transform their expertise into online income.",\n  "hook": "'Got soccer skills? Let’s talk cold, hard cash on the web!' ",\n  "caption": "Here’s the playbook for female soccer buffs ready to make money online. Whether it’s through streaming live game commentaries, affiliate marketing with soccer gear, or launching paid soccer tutorials, your passion can pay the bills. We'll navigate the digital field with simple, witty strategies designed for savvy women who want to bank on their knowledge. No complicated moves—just smart earning! ",\n  "cta": "Dive into your first money-making online move now!",\n  "hashtags": "#MakeMoneyOnline #SoccerFansUnite #WomenInSports #OnlineIncome #SoccerSkills #SideHustleTips #DigitalEarnings #GirlBoss #ModernSoccerVibes #GameChanger",\n  "canva_prompt": "A modern digital workspace showing a young woman engaging with soccer content on a tablet, vivid use of Brand Colors #eb4034, #EB3033, #000000, #ecd751, energetic and sleek design.",\n  "platform_suggestion": "TikTok",\n  "user_id": "99c676fd-3c66-4b26-a9e3-a0c41c271ca4",\n  "team_id": "a6863edc-5020-4763-ba00-58e2ce1ddf8f"\n},\n{\n  "title": "Score Your Dream Home: Using Soccer Passion to Achieve Financial Goals",\n  "description": "Linking the love of soccer with the ultimate financial goal: buying your own house.",\n  "hook": "'Thinking about turning your soccer passion into your key to a new home?' ",\n  "caption": "Everyone dreams of a home of their own, and if you’re a woman soccer fan with a knack for marketing, your passion can be your down payment plan. Imagine creating exclusive soccer fan clubs, merchandising, or content that rakes in steady cash, all fun and smart. We’ll guide you on the plays needed to not just follow the game but build your future—one goal at a time.",\n  "cta": "Kickstart your journey to homeownership today!",\n  "hashtags": "#BuyYourHome #SoccerGoals #WomenWhoWin #FinancialFreedom #SoccerFanLife #GoalGetter #SmartHustle #ModernWomen #HomeBuyers #SoccerMarketing",\n  "canva_prompt": "A modern, inviting home background with a joyful woman holding a soccer ball and keys, with Brand Colors #eb4034, #EB3033, #000000, #ecd751 integrated subtly into the design.",\n  "platform_suggestion": "LinkedIn",\n  "user_id": "99c676fd-3c66-4b26-a9e3-a0c41c271ca4",\n  "team_id": "a6863edc-5020-4763-ba00-58e2ce1ddf8f"\n},\n{\n  "title": "Test Your Soccer IQ: A Fun Challenge for Women Fans",\n  "description": "Engage your audience with a witty quiz designed to test and celebrate their soccer knowledge.",\n  "hook": "'How many soccer trivia points can you score? Time to find out!' ",\n  "caption": "Ladies, it’s game time! Let’s see who really knows their stuff with a quick, fun soccer quiz. Spoiler: It’s not just about the players, but the stories behind the goals, the stats, and those unforgettable moments. Share your score, challenge your friends, and let’s celebrate the brilliance of women in soccer fandom—witty, smart, and ridiculously fun.",\n  "cta": "Take the quiz now and tag your soccer squad!",\n  "hashtags": "#SoccerQuiz #WomenSoccerFans #TriviaChallenge #SoccerCommunity #GirlPower #FunWithSoccer #ModernVibes #SoccerLove #SmartFans #GoalTime",\n  "canva_prompt": "A bright, modern quiz interface with playful soccer icons and Brand Colors #eb4034, #EB3033, #000000, #ecd751, clean and engaging layout.",\n  "platform_suggestion": "Instagram",\n  "user_id": "99c676fd-3c66-4b26-a9e3-a0c41c271ca4",\n  "team_id": "a6863edc-5020-4763-ba00-58e2ce1ddf8f"\n},\n{\n  "title": "Test Your Soccer Strategy: Fun Insights for Passionate Fans",\n  "description": "Explore tactical elements of soccer with a witty angle to engage female fans interested in the deeper game.",\n  "hook": "'Think you’ve got game? Let’s break down some winning moves!' ",\n  "caption": "For all the women who don’t just watch soccer but live it – here’s a strategic dive that’s as clever as it is fun. We’ll unpack how key plays make or break the game, delivered with a wink and a nod to the true fans who love the mind game behind the ball. Perfect banter for social feeds and smart soccer talk.",\n  "cta": "Join the convo and share your favorite strategies!",\n  "hashtags": "#SoccerStrategy #WomenWhoWatch #SoccerTactics #GameSmart #WomenFans #SoccerTalk #ModernBranding #GirlSoccerSquad #FootballIQ #WittySoccer",\n  "canva_prompt": "Modern infographic style image showing soccer field tactics overlays, clean design with Brand Colors #eb4034, #EB3033, #000000, #ecd751.",\n  "platform_suggestion": "LinkedIn",\n  "user_id": "99c676fd-3c66-4b26-a9e3-a0c41c271ca4",\n  "team_id": "a6863edc-5020-4763-ba00-58e2ce1ddf8f"\n},\n{\n  "title": "How to Build a Community Around Your Soccer Passion",\n  "description": "Encourage women to create and grow relatable, modern soccer fan communities online.",\n  "hook": "'Ready to turn fellow fans into your soccer tribe?' ",\n  "caption": "Building a community isn’t just play; it’s a power move for any woman soccer fan looking to connect, create, and even cash in. We’ll walk through how to start a dynamic, engaging group that celebrates the love of the sport with a modern edge. From meet-ups to online chats, community-building is your new winning strategy.",\n  "cta": "Start your soccer fan community today!",\n  "hashtags": "#SoccerCommunity #WomenInSports #ModernFans #FanPower #BuildYourTribe #SportsNetworking #SoccerLove #EngageAndGrow #GirlSquadGoals #WinningTogether",\n  "canva_prompt": "A modern social media graphic showcasing women soccer fans connecting via smartphones and laptops, vibrant use of Brand Colors #eb4034, #EB3033, #000000, #ecd751.",\n  "platform_suggestion": "Facebook Groups or Instagram",\n  "user_id": "99c676fd-3c66-4b26-a9e3-a0c41c271ca4",\n  "team_id": "a6863edc-5020-4763-ba00-58e2ce1ddf8f"\n}]`;

const results = [];

// Split by "title": since every object starts with it
// (slice(1) removes the empty string before the first title)
const chunks = aiText.split(/"title":/i).slice(1);

// Regex to capture the quoted value, handling potential escapes.
// This pattern looks for the field key, then grabs all characters inside the following quotes (")
// until the closing quote is encountered.
// Pattern: "key":\s*"([\s\S]*?)"
const CONTENT_REGEX = (key, nextKey) => new RegExp(`"${key}":\\s*"([\\s\\S]*?)"\\s*,\\s*"${nextKey}"`, 'i');

// Helper function to safely extract and clean a matched string
const cleanMatch = (match) => {
    // Check if a match exists, trim it, and replace escaped quotes.
    // If the content is an empty string "", it will still match,
    // and we need to ensure the empty string is returned cleanly.
    if (match && match[1] !== undefined) {
        return match[1].trim().replace(/\\"/g, '"');
    }
    // If the regex failed to find the pattern (e.g., if fields are missing), return empty string.
    return "";
};

for (const chunk of chunks) {
    try {
        // --- EXTRACTION REGEX (Updated to look for content inside quotes) ---
        // We look for the quoted value (([\\s\\S]*?)) right after the field key, stopping before the next key.

        // 1. Description
        const descMatch = chunk.match(CONTENT_REGEX("description", "hook"));
        // 2. Hook
        const hookMatch = chunk.match(CONTENT_REGEX("hook", "caption"));
        // 3. Caption
        const captionMatch = chunk.match(CONTENT_REGEX("caption", "cta"));
        // 4. CTA
        const ctaMatch = chunk.match(CONTENT_REGEX("cta", "hashtags"));

        // 5. Hashtags
        const tagsMatch = chunk.match(CONTENT_REGEX("hashtags", "canva_prompt"));

        // 6. Canva Prompt
        const canvaPromptMatch = chunk.match(CONTENT_REGEX("canva_prompt", "platform_suggestion"));

        // 7. Platform Suggestion - MODIFIED to stop at "user_id"
        // This is a special case since the key is followed by IDs
        const platformMatch = chunk.match(CONTENT_REGEX("platform_suggestion", "user_id"));

        // --- ID MATCHES (These do not need the CONTENT_REGEX helper) ---
        // 8. User ID - Look for the value, and stop before the comma and "team_id" key
        const userIdMatch = chunk.match(/"user_id":\s*"([^"]*?)"\s*,/i);

        // 9. Team ID - Look for the value, and stop before the closing brace '}'
        const teamIdMatch = chunk.match(/"team_id":\s*"([^"]*?)"\s*[,\}]/i);

        // Title Cleanup
        let titleRaw = chunk.split(/"description"/)[0];
        // Clean up surrounding chars and remove any escaped quotes within the title.
        const titleClean = titleRaw.replace(/^[\\"\s]+|[\\"\s,]+$/g, "").trim().replace(/\\"/g, '"');

        results.push({
            title: titleClean,
            description: cleanMatch(descMatch),
            hook: cleanMatch(hookMatch),
            caption: cleanMatch(captionMatch),
            cta: cleanMatch(ctaMatch),
            hashtags: cleanMatch(tagsMatch),
            canva_prompt: cleanMatch(canvaPromptMatch),
            platform_suggestion: cleanMatch(platformMatch),
            // IDs do not need the cleanup logic
            user_id: userIdMatch ? userIdMatch[1].trim() : "",
            team_id: teamIdMatch ? teamIdMatch[1].trim() : ""
        });
    } catch (err) {
        // Skip bad chunks
    }
}

console.log(JSON.stringify(results, null, 2));
